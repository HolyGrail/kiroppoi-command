---
description: "現在のスペックの要件定義を作成します"
---

## 1. 現在のスペックを確認

`.claude/current-spec.txt` を読み込み、現在のスペックを確認してください。
設定されていない場合は以下のエラーメッセージを表示：

```
❌ エラー: スペックが設定されていません
先に /kiroppoi-spec {feature-name} でスペックを作成してください
```

## 2. 既存の内容を確認

`.claude/spec/{feature-name}/requirements.md` の内容を確認。
既に内容がある場合は、以下を確認：

```
既存の要件定義があります。
追記しますか？ (上書きする場合は明示的に指示してください)
```

## 3. 要件定義を生成

ユーザーの入力「$ARGUMENTS」から以下の形式で要件定義を作成：

```markdown
# 要件定義: {feature-name}

更新日: {今日の日付}

## 概要
{1-2文で機能の目的を説明}

## ユーザーストーリー
- As a {ユーザー}, I want to {アクション} so that {価値}

## 機能要件
### 必須
- {要件1}
- {要件2}

### オプション
- {要件3}

## 非機能要件
- パフォーマンス: {要件}
- セキュリティ: {要件}
- 使いやすさ: {要件}

## 制約事項
- {技術的制約}
- {ビジネス制約}

## 完了条件
- [ ] {条件1}
- [ ] {条件2}
```

ユーザーの入力が簡潔な場合は、合理的に推測して要件を補完してください。
技術的な詳細が不明な場合は、一般的なベストプラクティスを適用。

## 4. 保存と確認

ファイルを保存後、以下のメッセージを表示：

```
✅ 要件定義を作成しました
📄 .claude/spec/{feature-name}/requirements.md

次: /kiroppoi-design で技術設計を作成
```

$ARGUMENTS